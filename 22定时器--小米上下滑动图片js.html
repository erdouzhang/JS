<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>22定时器--小米上下滑动图片js</title>
	<style>
		.box{
			width: 512px;
			height: 400px;
			border: 1px solid #f00;
			margin: 50px auto;
			overflow: hidden;
			position: relative;
		}
		.box span{
			position: absolute;
			left: 0;
			width: 100%;
			height: 200px;
			cursor: pointer;
		}
		.up{
			top: 0;
		}
		.down{
			bottom: 0;
		}
		#pic{
			position: absolute;
			top: 0;
			left: 0;
		}
	</style>
	<script>
		window.onload = function(){
			function $(id){return document.getElementById(id);}
			var num = 0;	//控制图片的top值
			var timer = null;	//设置定时器名称
			$("picUp").onmousemove = function (){	
				clearInterval(timer);
				timer = setInterval(function(){
					num-=3;	//num = num -3
					if(num >= -1070){	//1470-512
						$("pic").style.top = num +"px";
					}else{
						clearInterval(timer);
					}					
				},30);
			}
			$("picDown").onmousemove = function (){	
				clearInterval(timer);
				timer = setInterval(function(){
					num++;	//num = num -3
					num < 0 ? $("pic").style.top = num +"px" : clearInterval(timer);		
				},30);
			}
			$("picUp").parentNode.onmouseout = function(){
				clearInterval(timer);
			}
		}	
	</script>
</head>
<body>
	<div class="box">
		<img src="images/mi.png" alt="" id="pic">
		<span class="up" id="picUp"></span>
		<span class="down" id="picDown"></span>
	</div>
</body>
</html>